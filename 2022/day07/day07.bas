100 DIM DN$(255),DS(255):REM DIR NAME, SIZE
110 FOR D=0 TO 1 STEP 0:REM WHILE NOT DONE
120 : PRINT:FI$="":INPUT "FILENAME";FI$
130 : IF FI$="" THEN PRINT "NEVER MIND.": END
140 : OPEN 1,8,2,FI$
150 : GOSUB 500: IF DS=0 THEN 170
160 : CLOSE 1:PRINT "COULD NOT OPEN FILE.":GOTO 120
170 : FOR E=0 TO 1 STEP 0:REM WHILE NOT EOF
175 :   PRINT "WD$='"WD$"'"
180 :   GOSUB 400:IF ST AND 64 THEN E=1
190 :   IF LEFT$(LI$,5) <> "$ cd " THEN 260
200 :   IF MID$(LI$,6,1) = "/" THEN WD$=MID$(LI$,6):GOTO 290
210 :   IF MID$(LI$,6,2) <> ".." THEN WD$=WD$+"/"+MID$(LI$,6):GOTO 290
220 :   FOR I=LEN(WD$) TO 1 STEP -1
230 :     IF MID$(WD$,I,1)="/" THEN WD$=LEFT$(WD$,I-1):I=1
240 :   NEXT I
250 :   GOTO 290
260 :   IF VAL(LI$) = 0 THEN 290
270 :   S=VAL(LI$):F$=MID$(LI$,LEN(STR$(S)))
280 :   PRINT "FOUND FILE "F$" WITH SIZE"S
290 : NEXT E
300 NEXT D
310 END
390 REM READ LINE
400 LI$="":IF EF THEN EF=0:RETURN
410 GET#1, BY$:BY=ASC(BY$):IF ST AND 64 THEN EF=1
420 IF BY=10 THEN RETURN
430 IF BY>96 AND BY<192 THEN BY=BY+96
440 LI$=LI$+CHR$(BY):IF EF THEN RETURN
450 GOTO 410
490 REM CHECK DISK STATUS
500 OPEN 15,8,15:INPUT#15,DS,DS$,T,S:CLOSE 15:RETURN
